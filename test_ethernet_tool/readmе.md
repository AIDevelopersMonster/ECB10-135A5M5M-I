# Ethernet и проверка доступа в интернет

Данный раздел описывает проверку работы **Ethernet-интерфейса и доступа в интернет**
на плате **ECB10-135A5M5M-I** с использованием стандартных средств Linux.

Проверка ориентирована **на факт работоспособности**, а не на ручную настройку сети.

---

## Общая информация

На плате ECB10-135A5M5M-I реализован Ethernet-интерфейс
(10/100/1000 Мбит/с, разъём RJ45).

В стандартной конфигурации Linux:
- IP-адрес выдаётся по **DHCP**
- маршрут по умолчанию настраивается автоматически
- DNS также получается от DHCP-сервера (обычно роутера)

---

## Цель проверки

Подтвердить, что:

1. Ethernet-интерфейс присутствует в системе
2. Физический линк (кабель) подключён
3. Интерфейс активен (`UP`)
4. IP-адрес получен по DHCP
5. Настроен маршрут по умолчанию
6. Есть доступ в интернет:
   - по IP-адресу
   - по DNS-имени

---

## Используемые команды Linux

Все команды выполняются **в режиме чтения** и не изменяют конфигурацию системы.

---

## 1. Проверка наличия сетевых интерфейсов

```sh
ls -1 /sys/class/net
````

Ожидается наличие интерфейса `eth0`, например:

```text
can0
eth0
lo
wlan0
```

---

## 2. Проверка физического линка (кабель / PHY)

```sh
cat /sys/class/net/eth0/carrier
```

Ожидаемое значение:

```text
1
```

Значение `1` означает, что линк поднят и кабель подключён.

---

## 3. Состояние интерфейса

```sh
cat /sys/class/net/eth0/operstate
```

Ожидаемое значение:

```text
up
```

---

## 4. Проверка IP-адреса (краткий вывод)

```sh
ip -brief addr show dev eth0
```

Пример корректного вывода:

```text
eth0 UP 192.168.1.79/24 fe80::xxxx/64
```

Важно:

* интерфейс в состоянии `UP`
* присутствует IPv4-адрес
* адрес выдан динамически (DHCP)

---

## 5. Детальная информация об IP-адресе

```sh
ip addr show dev eth0
```

Используется для проверки:

* MAC-адреса
* статуса интерфейса
* признака DHCP (`dynamic`)
* времени жизни IP-адреса

---

## 6. Проверка маршрута по умолчанию

```sh
ip route show default
```

Пример корректного вывода:

```text
default via 192.168.1.254 dev eth0 proto dhcp src 192.168.1.79
```

Это означает, что:

* маршрут в интернет существует
* шлюз получен по DHCP
* используется интерфейс `eth0`

---

## 7. Проверка доступа в интернет по IP

```sh
ping -c 3 1.1.1.1
```

Если ответы получены — маршрутизация и доступ в интернет работают.

---

## 8. Проверка DNS-конфигурации

```sh
cat /etc/resolv.conf
```

Пример:

```text
nameserver 192.168.1.254
nameserver fe80::1%eth0
```

DNS-сервер выдан DHCP — это нормальное поведение.

---

## 9. Проверка доступа по доменному имени (DNS)

```sh
ping -c 1 google.com
```

Если пинг проходит:

* DNS работает
* интернет доступен полностью

---

## Проверка через GUI

GUI-инструмент выполняет **те же команды**, что и при ручной проверке через CLI.
Он не подменяет данные и не использует условные значения.

GUI отображает:

* состояние интерфейса
* IP-адрес
* маршрут по умолчанию
* результат ping по IP и DNS

Автоматическое определение **PASS / FAIL** используется только там, где результат однозначен:

* наличие IPv4-адреса
* наличие default route
* успешный ping без потерь

В остальных случаях вывод остаётся информационным.

---

## Итог

Если выполнены условия:

* `eth0` присутствует
* `carrier = 1`
* `operstate = up`
* IP-адрес получен
* маршрут по умолчанию существует
* `ping 1.1.1.1` и `ping google.com` проходят успешно

➡ **Ethernet-интерфейс и доступ в интернет работают корректно.**

Данный тест предназначен для подтверждения работоспособности сети,
а не для её ручной настройки.

```

---